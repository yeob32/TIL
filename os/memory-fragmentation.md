# Memory Fragmentation

## 메모리 단편화 (Memory Fragmentation)
- 메모리의 빈공간 또는 자료가 여러개의 조각으로 나뉘는 현상
- RAM 에서 메모리의 공간이 작은 조각으로 나뉘어져 사용 가능한 메모리가 충분히 존재하지만 사용(할당)이 불가능한 상태

### 내부 단편화 (Internal Fragmentation)
- 메모리를 할당할 때 Process 가 필요한 양보다 더 큰 메모리가 할당되어서 메모리 공간이 낭비되는 상황

### 외부 단편화 (External Fragmentation)
- 총 할당 가능한 자원의 합에 비해 실제 할당 할 수 있는 자원의 크기가 작은 상태

## 해결 방법
### 메모리 압축 (Memory Compaction)
- 여러 곳에 분산되어 있는 단편화된 메모리 공간들을 결합하여 하나의 큰 공간으로 만듬 (디스크조각모음)
- CPU가 몇 개의 바이트씩 읽어오고 다시 쓰는 방법으로 반복해서 재배치(Compaction) 하기 떄문에 CPU 처리시간이 증가하여 처리기 효율이 크게 감소한다.

### 메모리 통합 (Memory Coalescint)
- 단편화가 발생된 공간에서 인접해있는 다른 단편화 공간들을 하나로 통합시켜 큰 공간으로 만드는 기법

### 페이징 (Paging)
- 필요한 메모리는 페이지 단위로 프레임에 올리고 사용하지 않는 프레임은 페이지로 옮기는 기법
- 페이지
    - 가상기억장치(가상메모리)를 모두 같은 크기의 블록으로 편성하고 이 일정한 크기인 블록
- 프레임
    - 주소공간을 페이지 단위로 나누고 실제 기억공간(RAM)은 페이지 크기와 같은 크기의 블록 
- 사용하는 메모리는 프레임에 올리고 사용하지 않는 메모리는 페이지에 저장  
- 가상메모리 사용, 외부단편화 해결, 내부단편화 발생

### 세그멘테이션 (Segmentation)
- 가상기억장치(가상메모리)를 서로 크기가 다른 논리적 단위인 세그먼트로 분할하고 메모리를 할당하며 주소변환을 하는 기법 
- 세그먼트들의 크기가 서로 다르기 때문에 메모리를 페이징 기법에서처럼 미리 크기를 잡아둘 수 없고, 
메모리에 적재될 때 빈공간을 찾아 할당하는 사용자 관점의 가상 메모리 기법이다. 
- 가상메모리 사용, 외부단편화 발생, 내부단편화 해결

### 메모리 풀 (Memory Pool)
- 필요한 메모리 공간을 크기/개수 만큼 사용자가 직접 지정하여 받아 놓고, 사용하고 반납하는 기법
- 외부 단편화, 내부단편화 해결
